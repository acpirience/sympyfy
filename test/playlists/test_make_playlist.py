"""

test for sympyfy.make_playlist
"""
from sympyfy import Sympyfy


def test_make_playlist() -> None:
    json_content = b'{\n  "collaborative" : false,\n  "description" : "This is a test",\n  "external_urls" : {\n    "spotify" : "https://open.spotify.com/playlist/2LbyMChvxpn1emaIiDKKnT"\n  },\n  "followers" : {\n    "href" : null,\n    "total" : 0\n  },\n  "href" : "https://api.spotify.com/v1/playlists/2LbyMChvxpn1emaIiDKKnT",\n  "id" : "2LbyMChvxpn1emaIiDKKnT",\n  "images" : [ {\n    "height" : 640,\n    "url" : "https://i.scdn.co/image/ab67616d0000b27399027d2948260fdb37436d5d",\n    "width" : 640\n  } ],\n  "name" : "TEST",\n  "owner" : {\n    "display_name" : "acpirience",\n    "external_urls" : {\n      "spotify" : "https://open.spotify.com/user/acpirience"\n    },\n    "href" : "https://api.spotify.com/v1/users/acpirience",\n    "id" : "acpirience",\n    "type" : "user",\n    "uri" : "spotify:user:acpirience"\n  },\n  "primary_color" : null,\n  "public" : true,\n  "snapshot_id" : "NCwyNmRiNDQ4Y2M2ZjVkNGJmNTUwYTA1MjdhMWY1YzZkN2E3NDNiNzU5",\n  "tracks" : {\n    "href" : "https://api.spotify.com/v1/playlists/2LbyMChvxpn1emaIiDKKnT/tracks?offset=0&limit=100",\n    "items" : [ {\n      "added_at" : "2024-03-03T19:59:49Z",\n      "added_by" : {\n        "external_urls" : {\n          "spotify" : "https://open.spotify.com/user/acpirience"\n        },\n        "href" : "https://api.spotify.com/v1/users/acpirience",\n        "id" : "acpirience",\n        "type" : "user",\n        "uri" : "spotify:user:acpirience"\n      },\n      "is_local" : false,\n      "primary_color" : null,\n      "track" : {\n        "album" : {\n          "album_type" : "album",\n        "artists" : [ {\n            "external_urls" : {\n              "spotify" : "https://open.spotify.com/artist/7bu3H8JO7d0UbMoVzbo70s"\n            },\n            "href" : "https://api.spotify.com/v1/artists/7bu3H8JO7d0UbMoVzbo70s",\n            "id" : "7bu3H8JO7d0UbMoVzbo70s",\n            "name" : "The Cure",\n            "type" : "artist",\n            "uri" : "spotify:artist:7bu3H8JO7d0UbMoVzbo70s"\n          } ],\n          "available_markets" : [ "AR", "AT", "AU", "BA", "BD", "BE", "BG", "BR", "CH", "CL", "CO", "CW", "CZ", "DK", "EE", "ES", "FI", "FR", "GB", "GR", "HK", "HR", "HU", "ID", "IE", "IL", "IS", "IT", "JP", "KH", "KR", "LK", "LT", "LV", "MK", "MX", "MY", "NL", "NO", "NZ", "PH", "PL", "PT", "RO", "SA", "SE", "SG", "SI", "SK", "TH", "TR", "TW", "VN" ],\n          "external_urls" : {\n            "spotify" : "https://open.spotify.com/album/6hmiQJ6FbPEQIDeKEIKSck"\n          },\n          "href" : "https://api.spotify.com/v1/albums/6hmiQJ6FbPEQIDeKEIKSck",\n          "id" : "6hmiQJ6FbPEQIDeKEIKSck",\n          "images" : [ {\n            "height" : 640,\n            "url" : "https://i.scdn.co/image/ab67616d0000b2734f6d78b7fb2ba87ed33fcd7e",\n            "width" : 640\n          }, {\n            "height" : 300,\n            "url" : "https://i.scdn.co/image/ab67616d00001e024f6d78b7fb2ba87ed33fcd7e",\n            "width" : 300\n          }, {\n            "height" : 64,\n            "url" : "https://i.scdn.co/image/ab67616d000048514f6d78b7fb2ba87ed33fcd7e",\n            "width" : 64\n          } ],\n          "name" : "Seventeen Seconds",\n          "release_date" : "1980-04-18",\n          "release_date_precision" : "day",\n          "total_tracks" : 10,\n          "type" : "album",\n          "uri" : "spotify:album:6hmiQJ6FbPEQIDeKEIKSck"\n        },\n        "artists" : [ {\n          "external_urls" : {\n            "spotify" : "https://open.spotify.com/artist/7bu3H8JO7d0UbMoVzbo70s"\n          },\n          "href" : "https://api.spotify.com/v1/artists/7bu3H8JO7d0UbMoVzbo70s",\n          "id" : "7bu3H8JO7d0UbMoVzbo70s",\n          "name" : "The Cure",\n          "type" : "artist",\n          "uri" : "spotify:artist:7bu3H8JO7d0UbMoVzbo70s"\n        } ],\n        "available_markets" : [ "AR", "AT", "AU", "BA", "BD", "BE", "BG", "BR", "CH", "CL", "CO", "CW", "CZ", "DK", "EE", "ES", "FI", "FR", "GB", "GR", "HK", "HR", "HU", "ID", "IE", "IL", "IS", "IT", "JP", "KH", "KR", "LK", "LT", "LV", "MK", "MX", "MY", "NL", "NO", "NZ", "PH", "PL", "PT", "RO", "SA", "SE", "SG", "SI", "SK", "TH", "TR", "TW", "VN" ],\n        "disc_number" : 1,\n        "duration_ms" : 354640,\n        "episode" : false,\n        "explicit" : false,\n        "external_ids" : {\n          "isrc" : "GBALB8000007"\n        },\n        "external_urls" : {\n          "spotify" : "https://open.spotify.com/track/4iVTSRiJAA18d3QglhyJ6Q"\n        },\n        "href" : "https://api.spotify.com/v1/tracks/4iVTSRiJAA18d3QglhyJ6Q",\n        "id" : "4iVTSRiJAA18d3QglhyJ6Q",\n        "is_local" : false,\n        "name" : "A Forest",\n        "popularity" : 67,\n        "preview_url" : null,\n   "track" : true,\n        "track_number" : 7,\n        "type" : "track",\n        "uri" : "spotify:track:4iVTSRiJAA18d3QglhyJ6Q"\n      },\n      "video_thumbnail" : {\n        "url" : null\n      }\n    }, {\n      "added_at" : "2024-03-03T20:02:01Z",\n      "added_by" : {\n        "external_urls" : {\n          "spotify" : "https://open.spotify.com/user/acpirience"\n        },\n        "href" : "https://api.spotify.com/v1/users/acpirience",\n        "id" : "acpirience",\n        "type" : "user",\n        "uri" : "spotify:user:acpirience"\n      },\n      "is_local" : false,\n      "primary_color" : null,\n      "track" : null,\n      "video_thumbnail" : null\n    } ],\n    "limit" : 100,\n    "next" : null,\n    "offset" : 0,\n    "previous" : null,\n    "total" : 2\n  },\n  "type" : "playlist",\n  "uri" : "spotify:playlist:2LbyMChvxpn1emaIiDKKnT"\n}'

    test_playlist = Sympyfy()._Sympyfy__make_playlist(json_content)  # type: ignore

    assert test_playlist
    assert test_playlist.name == "TEST"
    assert test_playlist.owner.display_name == "acpirience"
    assert test_playlist.tracks.items[0].track.name == "A Forest"
